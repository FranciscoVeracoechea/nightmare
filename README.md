# Nightmare ORM
Object Relational Mapping for **Node.js** and **PostgreSQL** insisted on Eloquent from php.


## Introduction:
The Nightmare ORM  provides a simple implementation of object relational mapping, for working with your database. Each database table has a corresponding **Model** *(ECMAScript 6 class)* which is used to interact with that table. Models allow you to query for data in your tables, as well as insert and update new records into the table. It is also safe because it prevents *SQL injection*.

## Installation
- using npm:

      npm install nightmare-orm --save

- using yarn:

      yarn add nightmmare-orm

## Dependency
This module depends of a pool connection generated by the npm module "pg" also known as [node-postgres](https://node-postgres.com/).

## Defining Models

To get started, all models must extend or inherit from Nightmare. In their *construction* method, they must receive an "data" parameter in case they want that model with all the information in the database mapped.

Also in the same constructor must execute the constructor of the father *super*, which must receive two parameters, first the pool of connections of PostgreSQL, second the name of the table to which that model belongs and finally the attribute "data" of contructor of the model itself.

Let's see in the following example we will see how the model is defined **Profiles**:

```js
const { Pool } = require('pg');
const Nightmare = require('nightmmare-orm');

//PostgreSQL connection pool
const pool = new Pool({
  user: 'postgres',
  host: 'localhost',
  database: 'database',
  password: '1',
  port: 5432
});

//Model
class Profiles extends Nightmare {
  constructor(data = false){
    super(pool, 'profiles', data);
  }

  //...
}

```

-------
*the documentation is not yet ready, we are working on it*